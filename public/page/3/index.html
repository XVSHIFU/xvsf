<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head>
	<meta name="generator" content="Hugo 0.154.5"><script src="/xvsf/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=xvsf/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>xvsf</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/xvsf/">
<link crossorigin="anonymous" href="/xvsf/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/xvsf/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/xvsf/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/xvsf/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/xvsf/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/xvsf/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/xvsf/index.xml" title="rss">
<link rel="alternate" hreflang="en" href="http://localhost:1313/xvsf/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/xvsf/" accesskey="h" title="xvsf (Alt + H)">xvsf</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CC3
    </h2>
  </header>
  <div class="entry-content">
    <p>再次深入学习动态加载字节码：
动态加载字节码 1、什么是Java的字节码 严格来说，Java字节码（ByteCode）其实仅仅指的是Java虚拟机执行使用的一类指令，通常被存储在.class文件中。
java的核心就是跨平台运行，Java编译的结果–字节码（.class文件）交给 JVM 去运行，同时如果其他语言可以编译为字节码文件，也可以交由 JVM 运行
2、动态加载字节码的方法 2.1 利用 URLClassLoader 加载远程 class 文件 解释 URLClassLoader 的工作过程实际上就是在解释默认的Java类加载器的工作流程。
正常情况下，Java会根据配置项 sun.boot.class.path 和 java.class.path 中列举到的基础路径（这些路径是经过处理后的 java.net.URL 类）来寻找.class文件来加载，而这个基础路径有分为三种情况：
URL未以斜杠 / 结尾，则认为是一个JAR文件，使用 JarLoader 来寻找类，即为在Jar包中寻找.class文件 URL以斜杠 / 结尾，且协议名是 file ，则使用 FileLoader 来寻找类，即为在本地文件系统中寻找.class文件 URL以斜杠 / 结尾，且协议名不是 file ，则使用最基础的 Loader 来寻找类 我们正常开发的时候通常遇到的是前两者，那什么时候才会出现使用 Loader 寻找类的情况呢？当然是非 file 协议的情况下，最常见的就是 http 协议。
2.1.1 file 协议 先编译一个文件：
import java.io.IOException; public class Calc { static { try{ Runtime.getRuntime().exec(&#34;calc&#34;); } catch(IOException e){ e.printStackTrace(); } } } ...</p>
  </div>
  <footer class="entry-footer"><span title='2025-09-01 17:00:00 +0800 CST'>September 1, 2025</span>&nbsp;·&nbsp;<span>8 min</span></footer>
  <a class="entry-link" aria-label="post link to CC3" href="http://localhost:1313/xvsf/posts/cc3/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CC6
    </h2>
  </header>
  <div class="entry-content">
    <p>环境： JDK 8u71:
https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html
Comoons-Collections 3.2.1
CC6 链分析： 在 CC1 中分析过 JDK 8u71之后的 AnnotationInvocationHandler.readObject 的写法改变，导致 CC1 链用不了，也就是说：
AnnotationInvocationHandler.readObject
AnnotationInvocationHandler.invoke.memberValues.get
这半条链子用不了，所以要找一个替代，这个替代也应该调用了 LazyMap.get 方法，之后的链子和 CC1 一样。
1、分析 我们找到 TiedMapEntry.getValue 中调用了 get 方法，
而 TiedMapEntry.hashCode 调用了 getValue ，
那么我们找哪里调用了 TiedMapEntry.hashCode 就可以完成利用链的跟踪
这里我用的是《Java 安全漫谈》给出的思路：
ysoserial 中，是利用 java.util.HashSet#readObject 到 HashMap#put() 到 HashMap#hash(key)，最后到 TiedMapEntry#hashCode()。
实际上我发现，在 java.util.HashMap#readobject 中就可以找到 HashMap#hash() 的调用，去掉了最前面的两次调用：
public class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable { ... static final int hash(Object key) { int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16); } ... private void readObject(java.io.ObjectInputStream s) throws IOException, ClassNotFoundException { // Read in the threshold (ignored), loadfactor, and any hidden stuff s.defaultReadObject(); reinitialize(); if (loadFactor &lt;= 0 || Float.isNaN(loadFactor)) throw new InvalidObjectException(&#34;Illegal load factor: &#34; &#43; loadFactor); s.readInt(); // Read and ignore number of buckets int mappings = s.readInt(); // Read number of mappings (size) if (mappings &lt; 0) throw new InvalidObjectException(&#34;Illegal mappings count: &#34; &#43; mappings); else if (mappings &gt; 0) { // (if zero, use defaults) // Size the table using given load factor only if within // range of 0.25...4.0 float lf = Math.min(Math.max(0.25f, loadFactor), 4.0f); float fc = (float)mappings / lf &#43; 1.0f; int cap = ((fc &lt; DEFAULT_INITIAL_CAPACITY) ? DEFAULT_INITIAL_CAPACITY : (fc &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : tableSizeFor((int)fc)); float ft = (float)cap * lf; threshold = ((cap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; MAXIMUM_CAPACITY) ? (int)ft : Integer.MAX_VALUE); @SuppressWarnings({&#34;rawtypes&#34;,&#34;unchecked&#34;}) Node&lt;K,V&gt;[] tab = (Node&lt;K,V&gt;[])new Node[cap]; table = tab; // Read the keys and values, and put the mappings in the HashMap for (int i = 0; i &lt; mappings; i&#43;&#43;) { @SuppressWarnings(&#34;unchecked&#34;) K key = (K) s.readObject(); @SuppressWarnings(&#34;unchecked&#34;) V value = (V) s.readObject(); putVal(hash(key), key, value, false, false); } } } 在 HashMap 的 readObject 方法中，调用到了 hash(key），而 hash 方法中，调用到了 key·hashCode(）。所以，我们只需要让这个 key 等于 TiedMapEntry 对象，即可连接上前面的分析过程，构成一个完整的 Gadget。
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-31 15:00:00 +0800 CST'>August 31, 2025</span>&nbsp;·&nbsp;<span>4 min</span></footer>
  <a class="entry-link" aria-label="post link to CC6" href="http://localhost:1313/xvsf/posts/cc6/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CC1
    </h2>
  </header>
  <div class="entry-content">
    <p>环境 1、JDK-8u65 https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html
注意：国家不要选为国区，国区对应的 8u65 下载的时候会自动下载 8u111 等高版本！
2、Maven-commons-collections 3.2.1 https://mvnrepository.com/artifact/commons-collections/commons-collections/3.2.1
&lt;!-- https://mvnrepository.com/artifact/commons-collections/commons-collections --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2.1&lt;/version&gt; &lt;/dependency&gt; 3、修改 sun 包-方便调试 https://hg.openjdk.org/jdk8u/jdk8u/jdk/rev/af660750b2f4
将 jdk-af660750b2f4\jdk-af660750b2f4\src\share\classes\sun
放入：jdk1.8.0_65\src
把 src 文件夹添加到源路径下
Apache Commons Collections包和简介: https://blinkfox.github.io/2018/09/13/hou-duan/java/commons/commons-collections-bao-he-jian-jie/
CC1链分析： 首先要明白，CC1 链的源头是 Commons Collections 库中的 Tranformer （ org/apache/commons/collections/Transformer.java ）接口中的 transform 方法，这个接口的设计初衷，是为了把一个对象转换成另一个对象， 但是，在实现类里把 transform 变成“可以执行任意逻辑”时，就出现了漏洞。
这样的类有以下几种：
最核心、最危险的类：
InvokerTransformer （执行任意方法，命令执行） InstantiateTransformer （实例化任意类，构造函数触发危险逻辑） 组合辅助类（触发链条的关键）：
ChainedTransformer（组合执行器） LazyMap（触发入口） 1、 TransformedMap 版 《Java 安全漫谈》
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-30 15:00:00 +0800 CST'>August 30, 2025</span>&nbsp;·&nbsp;<span>11 min</span></footer>
  <a class="entry-link" aria-label="post link to CC1" href="http://localhost:1313/xvsf/posts/cc1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Java 反序列化学习
    </h2>
  </header>
  <div class="entry-content">
    <p>Java 反序列化 1、序列化与反序列化 1.1 什么是序列化&amp;反序列化 序列化：将内存中的对象压缩成字节流
反序列化：将字节流转化成内存中的对象
1.2 为什么有序列化技术 序列化与反序列化的设计就是用来传输数据的。
应用场景
(1) 想把内存中的对象保存到一个文件中或者是数据库当中。
(2) 用套接字在网络上传输对象。
(3) 通过RMI传输对象的时候。
1.3 几种常见的序列化和反序列化协议 XML SOAP（Simple Object Access protocol） 是一种被广泛应用的，基于 XML 为序列化和反序列化协议的结构化消息传递协议 JSON（Javascript Object Notation） Protobuf 1.4 序列化和反序列化实现 简单分析 Java 的对象序列化的不同写法：
俩种写法本质上都是 Java 的对象序列化，但它们在底层的 IO 流使用方式上略有不同：
写法一：
ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&#34;ser.bin&#34;)); 传统的基于字节流的文件写入方式：FileOutputStream(“ser.bin”)， 创建一个 FileOutputStream，表示要写入的目标文件是 ser.bin
特点：
简单直接，兼容性很好，Java 早期版本就有。 对路径和文件名使用的是 字符串形式。 写法二：（IDEA推荐）
ObjectOutputStream oos = new ObjectOutputStream(Files.newOutputStream(Paths.get(&#34;ser.bin&#34;))); **Paths.get(&#34;ser.bin&#34;)**
使用 java.nio.file.Path 来表示文件路径，比 String 更灵活、可组合。 可以方便地处理跨平台路径，比如 &#34;folder/subfolder/file.txt&#34; **Files.newOutputStream(path)**
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-26 15:00:00 +0800 CST'>August 26, 2025</span>&nbsp;·&nbsp;<span>11 min</span></footer>
  <a class="entry-link" aria-label="post link to Java 反序列化学习" href="http://localhost:1313/xvsf/posts/java%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">华夏ERP 2.3 代码审计
    </h2>
  </header>
  <div class="entry-content">
    <p>项目地址：https://github.com/jishenghua/jshERP/releases/tag/2.3
环境搭建： MySQL 5.7.26，IDEA，Maven 3.9.1，JDK 1.8，
数据库新建jsh_erp数据库，导入sql文件
IDEA 的 JDK 版本切换为1.8
Maven构建
运行 ErpApplication.java 启动程序
目录分析 这个项目的结构更像是 MVC 架构（ Mapper/MapperXML； Controller ），又增加了 Service 层 。
Maven Assembly 插件，用于帮助打包； assembly.xml 是打包的配置文件 bin 中的文件都是 jshERP 的运行脚本 resources/mapper_xml： MyBatis 框架的 SQL 映射配置文件， “数据库操作说明书” logback-spring.xml：日志文件输出配置 java config PluginBeanConfig.java 插件管理器 Bean PluginConfiguration.java 配置插件系统的运行环境和参数 Swagger2Config.java 用于生成 RESTful API 文档 , 提供文档元信息 TenantConfig.java 项目数据库访问的统一拦截器和插件配置中心 WebConfig.java 指定前端静态文件存放位置， 在 Spring Boot 内置 Web 服务器中生效 constants BusinessConstants 业务字典类 ExceptionConstants 异常与返回码管理类 controller Web 层接口 datasource 数据源和数据库访问配置 exception 异常处理 filter LogCostFilter 自定义 Servlet 过滤器， 控制用户访问权限和登录请求处理 service 业务逻辑层 utils 工具类 ErpApplication.java 入口类，参考SpringBoot-注解 @SpringBootApplication 分析 //声明 springboot，组合了@SpringBootConfiguration @EnableAutoConfiguration @ComponentScann @SpringBootApplication //MyBatis Mapper 接口扫描路径 @MapperScan(&#34;com.jsh.erp.datasource.mappers&#34;) @ServletComponentScan @EnableScheduling public class ErpApplication{ public static void main(String[] args) throws IOException { ConfigurableApplicationContext context = SpringApplication.run(ErpApplication.class, args); Environment environment = context.getBean(Environment.class); System.out.println(&#34;启动成功，访问地址：http://&#34; &#43; ComputerInfo.getIpAddr() &#43; &#34;:&#34; &#43; environment.getProperty(&#34;server.port&#34;) &#43; &#34;，测试用户：jsh，密码：123456&#34;); } } 代码审计 1、LogCostFilter.java package com.jsh.erp.filter; import org.springframework.util.StringUtils; import javax.servlet.*; import javax.servlet.annotation.WebFilter; import javax.servlet.annotation.WebInitParam; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.util.ArrayList; import java.util.List; import java.util.regex.Matcher; import java.util.regex.Pattern; @WebFilter( filterName = &#34;LogCostFilter&#34;, //过滤器对所有路径都生效 urlPatterns = {&#34;/*&#34;}, initParams = { //要忽略的静态资源 @WebInitParam(name = &#34;ignoredUrl&#34;, value = &#34;.css#.js#.jpg#.png#.gif#.ico&#34;), //允许未登录访问的路径 @WebInitParam(name = &#34;filterPath&#34;, value = &#34;/user/login#/user/registerUser#/v2/api-docs&#34;) } ) public class LogCostFilter implements Filter { private static final String FILTER_PATH = &#34;filterPath&#34;; private static final String IGNORED_PATH = &#34;ignoredUrl&#34;; private static final List&lt;String&gt; ignoredList = new ArrayList&lt;&gt;(); private String[] allowUrls; private String[] ignoredUrls; //将 filterPath 和 ignoredUrl 解析成 allowUrls 和 ignoredList（白名单），用于后续 doFilter 判断 @Override public void init(FilterConfig filterConfig) throws ServletException { String filterPath = filterConfig.getInitParameter(FILTER_PATH); if (!StringUtils.isEmpty(filterPath)) { allowUrls = filterPath.contains(&#34;#&#34;) ? filterPath.split(&#34;#&#34;) : new String[]{filterPath}; } String ignoredPath = filterConfig.getInitParameter(IGNORED_PATH); if (!StringUtils.isEmpty(ignoredPath)) { ignoredUrls = ignoredPath.contains(&#34;#&#34;) ? ignoredPath.split(&#34;#&#34;) : new String[]{ignoredPath}; for (String ignoredUrl : ignoredUrls) { ignoredList.add(ignoredUrl); } } } @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { HttpServletRequest servletRequest = (HttpServletRequest) request; HttpServletResponse servletResponse = (HttpServletResponse) response; String requestUrl = servletRequest.getRequestURI(); //具体，比如：处理若用户未登录，则跳转到登录页 Object userInfo = servletRequest.getSession().getAttribute(&#34;user&#34;); if(userInfo!=null) { //如果已登录，不阻止 chain.doFilter(request, response); return; } //未登录时允许访问的页面 if (requestUrl != null &amp;&amp; (requestUrl.contains(&#34;/doc.html&#34;) || requestUrl.contains(&#34;/register.html&#34;) || requestUrl.contains(&#34;/login.html&#34;))) { chain.doFilter(request, response); return; } // ignoredList if (verify(ignoredList, requestUrl)) { chain.doFilter(servletRequest, response); return; } // allowUrls if (null != allowUrls &amp;&amp; allowUrls.length &gt; 0) { for (String url : allowUrls) { if (requestUrl.startsWith(url)) { chain.doFilter(request, response); return; } } } //if 条件都不满足，重定向到 /login.html servletResponse.sendRedirect(&#34;/login.html&#34;); } private static String regexPrefix = &#34;^.*&#34;; private static String regexSuffix = &#34;.*$&#34;; private static boolean verify(List&lt;String&gt; ignoredList, String url) { for (String regex : ignoredList) { Pattern pattern = Pattern.compile(regexPrefix &#43; regex &#43; regexSuffix); Matcher matcher = pattern.matcher(url); if (matcher.matches()) { return true; } } return false; } @Override public void destroy() { } } 过滤逻辑：
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-20 14:00:00 +0800 CST'>August 20, 2025</span>&nbsp;·&nbsp;<span>10 min</span></footer>
  <a class="entry-link" aria-label="post link to 华夏ERP 2.3 代码审计" href="http://localhost:1313/xvsf/posts/jsherp-2.3-%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SpringBoot
    </h2>
  </header>
  <div class="entry-content">
    <p>1、SpringBoot 简介 1.1 什么是 SpringBoot 随着 Spring 不断的发展，涉及的领域越来越多，项目整合开发需要配合各种各样的文件，慢慢变得不那么易用简单，违背了最初的理念，甚至人称配置地狱。Spring Boot 正是在这样的一个背景下被抽象出来的开发框架，目的为了让大家更容易的使用 Spring 、更容易的集成各种常用的中间件、开源软件；
Spring Boot 基于 Spring 开发，Spirng Boot 本身并不提供 Spring 框架的核心特性以及扩展功能，只是用于快速、敏捷地开发新一代基于 Spring 框架的应用程序。也就是说，它并不是用来替代 Spring 的解决方案，而是和 Spring 框架紧密结合用于提升 Spring 开发者体验的工具。Spring Boot 以约定大于配置的核心思想，默认帮我们进行了很多设置，多数 Spring Boot 应用只需要很少的 Spring 配置。同时它集成了大量常用的第三方库配置（例如 Redis、MongoDB、Jpa、RabbitMQ、Quartz 等等），Spring Boot 应用中这些第三方库几乎可以零配置的开箱即用。
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-14 14:00:00 +0800 CST'>August 14, 2025</span>&nbsp;·&nbsp;<span>9 min</span></footer>
  <a class="entry-link" aria-label="post link to SpringBoot" href="http://localhost:1313/xvsf/posts/springboot/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Spring
    </h2>
  </header>
  <div class="entry-content">
    <p>1、Spring简介 Spring 官网
Spring 5.2.0 官方文档
GitHub - spring-projects/spring-framework: Spring Framework
spring-webmvc
&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.2.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; 1.1、优点 Spring是一个开源的免费的框架 Spring是一个轻量级的、非入侵式的框架 控制反转（IOC），面向切面编程（AOP） 支持事物的处理，对框架整合的支持 总结一句话：Spring就是一个轻量级的控制反转（IOC）和面向切面编程（AOP）的框架
1.2、组成 核心容器（Spring Core）
核心容器提供Spring框架的基本功能。Spring以bean的方式组织和管理Java应用中的各个组件及其关系。Spring使用BeanFactory来产生和管理Bean，它是工厂模式的实现。BeanFactory使用控制反转(IoC)模式将应用的配置和依赖性规范与实际的应用程序代码分开。
应用上下文（Spring Context）
Spring上下文是一个配置文件，向Spring框架提供上下文信息。Spring上下文包括企业服务，如JNDI、EJB、电子邮件、国际化、校验和调度功能。
Spring面向切面编程（Spring AOP）
通过配置管理特性，Spring AOP 模块直接将面向方面的编程功能集成到了 Spring框架中。所以，可以很容易地使 Spring框架管理的任何对象支持 AOP。Spring AOP 模块为基于 Spring 的应用程序中的对象提供了事务管理服务。通过使用 Spring AOP，不用依赖 EJB 组件，就可以将声明性事务管理集成到应用程序中。
JDBC和DAO模块（Spring DAO）
JDBC、DAO的抽象层提供了有意义的异常层次结构，可用该结构来管理异常处理，和不同数据库供应商所抛出的错误信息。异常层次结构简化了错误处理，并且极大的降低了需要编写的代码数量，比如打开和关闭链接。
对象实体映射（Spring ORM）
Spring框架插入了若干个ORM框架，从而提供了ORM对象的关系工具，其中包括了Hibernate、JDO和 IBatis SQL Map等，所有这些都遵从Spring的通用事物和DAO异常层次结构。
Web模块（Spring Web）
Web上下文模块建立在应用程序上下文模块之上，为基于web的应用程序提供了上下文。所以Spring框架支持与Struts集成，web模块还简化了处理多部分请求以及将请求参数绑定到域对象的工作。
MVC模块（Spring Web MVC）
MVC框架是一个全功能的构建Web应用程序的MVC实现。通过策略接口，MVC框架变成为高度可配置的。MVC容纳了大量视图技术，其中包括JSP、POI等，模型来有JavaBean来构成，存放于m当中，而视图是一个街口，负责实现模型，控制器表示逻辑代码，由c的事情。Spring框架的功能可以用在任何J2EE服务器当中，大多数功能也适用于不受管理的环境。Spring的核心要点就是支持不绑定到特定J2EE服务的可重用业务和数据的访问的对象，毫无疑问这样的对象可以在不同的J2EE环境，独立应用程序和测试环境之间重用。
1.3、拓展 现代化的Java开发，说白就是基于 Spring 的开发
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-12 14:00:00 +0800 CST'>August 12, 2025</span>&nbsp;·&nbsp;<span>16 min</span></footer>
  <a class="entry-link" aria-label="post link to Spring" href="http://localhost:1313/xvsf/posts/spring/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Smartbi v8.5 代码审计
    </h2>
  </header>
  <div class="entry-content">
    <p>Smartbi v8.5 代码审计 目录结构 E:. ├─Infobright	用于分析型数据存储 ├─jdk	Java 开发环境 ├─MySQL	数据库服务 ├─SmartbiUnionServer	Smartbi 的 Union Server 模块（Presto 引擎相关） ├─smartbixmla	Smartbi XMLA 接口模块，主要用于与外部如 Excel 的数据透视表通信 └─Tomcat	Smartbi 使用的 Web 应用服务器，部署了核心 web 模块和插件扩展 ├─bin	包含Tomcat的启动/关闭脚本、Smartbi 的配置文件、运行日志 | | exts-smartbi	扩展模块 |	| Index-smartbi	搜索索引 |	| mlogs-smartbi	模块级别日志 |	| SmartbiX-ExtractData	数据导出模块 | | smartbi_repoBackup	仓库备份 |	├─conf	配置文件所在 |	│ catalina.policy |	│ catalina.properties |	│ context.xml |	│ logging.properties |	│ server.xml |	│ tomcat-users.xml |	│ web.xml |	│ |	└─Catalina |	└─localhost ├─lib	包含Tomcat运行所需的JAR库文件 ├─logs ├─temp ├─webapps	实际部署的Web应用程序 ├─work	Tomcat 运行时自动生成的 JSP 编译缓存 在找源码的过程中，看到该系统使用了 Servlet 框架，理解 Servlet 框架对后续的代码理解有帮助
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-07 16:00:00 +0800 CST'>August 7, 2025</span>&nbsp;·&nbsp;<span>12 min</span></footer>
  <a class="entry-link" aria-label="post link to Smartbi v8.5 代码审计" href="http://localhost:1313/xvsf/posts/smartbi-v8.5-%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Smartbi v8.5 环境搭建
    </h2>
  </header>
  <div class="entry-content">
    <p>Smartbi v8.5 环境搭建 一、安装 通过网盘分享的文件：Smartbi Insight Edition-2018-11-22.zip 链接: https://pan.baidu.com/s/15caJ59nCdUvNJcwwGx_VJQ 提取码: wan4
用户名和公司名称随意
更改安装目录
此处，不要选择“安装演示库”，否则会报“报表数量超过限制”的错误
不选择“注册为Windows服务”，内存大小默认即可
登录首页的密码
二、license获取 官网地址：https://www.smartbi.com.cn/
license申请地址：https://my.smartbi.com.cn/index/index/customerindex/form_id/3.html
这里第一次进入需要注册\登录：
之后便可以申请了，邮箱要填正确，之后会将 license 发到邮箱里
选择个人版
之后在邮箱里可以看到发的：Smartbi-License.xml
获取 licence 后，将其放置在 E:\Smartbi\Tomcat\bin文件夹下 三、创建数据库 首先连接 Smartbi ：
创建Smartbi 数据库：
第一步连接好之后，是没有 smartbi 数据库的，需要自己创建
下面是 MySQL 的配置：
database-name 在选择安装“演示数据库”时是：smartbidemo；咋们没有选择，所以默认是：smartbi。
E:\Smartbi\Tomcat\bin\smartbi-config.xml
四、解决浏览器版本误判 这一步可以看下面问题中的 1、
五、启动程序 方法一： E:\Smartbi\Tomcat\bin\startup.cmd
运行 startup.cmd ，启动服务器
方法二： 系统开始菜单中找到 Smartbi 的安装目录，单击启动Smartbi服务
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-08-07 16:00:00 +0800 CST'>August 7, 2025</span>&nbsp;·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Smartbi v8.5 环境搭建" href="http://localhost:1313/xvsf/posts/smartbi-v8.5-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">java-sec-code 靶场题解
    </h2>
  </header>
  <div class="entry-content">
    <p>java-sec-code 靶场 一、靶场环境 源码地址：
https://github.com/JoyChou93/java-sec-code
搭建环境：
IDEA，pache-maven-3.9.1，apache-tomcat-9.0.105，JDK 1.8，MySQL 5.7.26，
​	数据库：小皮面板自带的MySQL，导入sql文件
​	修改数据库密码
​	默认端口为8080，如果被占用，在 application.properties 中写入 server.port=8081
之后启动 Maven install
运行 Application.java
访问 127.0.0.1:8081
搭建成功
以下是一些小的改动：
参考文章：https://www.freebuf.com/articles/web/289863.html
因为项目作者选择的工作环境为linux操作系统，而我本人选择的工作环境为windows操作系统，所以为了部分功能运行成功需要修改几处源码，首先修改CommandInject.java文件下的源码，将sh执行命令替换为cmd命令，还有修改源码中一些其它的linux操作系统上独有的命令。
src/main/java/org/joychou/controller/CommandInject.java //String[] cmdList = new String[]{&#34;sh&#34;, &#34;-c&#34;, &#34;ls -la &#34; &#43; filepath}; String[] cmdList = new String[]{&#34;cmd.exe&#34;, &#34;/c&#34;, &#34;dir &#34; &#43; filepath}; src/main/resources/templates/index.html &lt;!-- &lt;a th:href=&#34;@{/codeinject?filepath=/tmp;cat /etc/passwd}&#34;&gt;CmdInject&lt;/a&gt;&amp;nbsp;&amp;nbsp;--&gt; &lt;a th:href=&#34;@{/codeinject?filepath=.%26ipconfig}&#34;&gt;CmdInject&lt;/a&gt; &lt;!-- &lt;a th:href=&#34;@{/path_traversal/vul?filepath=../../../../../etc/passwd}&#34;&gt;PathTraversal&lt;/a&gt;&amp;nbsp;&amp;nbsp;--&gt; &lt;a th:href=&#34;@{/path_traversal/vul?filepath=D:/test.txt}&#34;&gt;PathTraversal&lt;/a&gt; &lt;!-- &lt;a th:href=&#34;@{/ssrf/urlConnection/vuln?url=file:///etc/passwd}&#34;&gt;SSRF&lt;/a&gt;&amp;nbsp;&amp;nbsp;--&gt; &lt;a th:href=&#34;@{/ssrf/urlConnection/vuln?url=file:///D:/test.txt}&#34;&gt;SSRF&lt;/a&gt; ...</p>
  </div>
  <footer class="entry-footer"><span title='2025-07-28 21:00:00 +0800 CST'>July 28, 2025</span>&nbsp;·&nbsp;<span>22 min</span></footer>
  <a class="entry-link" aria-label="post link to java-sec-code 靶场题解" href="http://localhost:1313/xvsf/posts/java-sec-code-master-%E9%9D%B6%E5%9C%BA/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/xvsf/page/2/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/xvsf/page/4/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/xvsf/">xvsf</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
