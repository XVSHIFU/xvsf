<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head>
	<meta name="generator" content="Hugo 0.154.5"><script src="/xvsf/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=xvsf/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>xvsf</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/xvsf/">
<link crossorigin="anonymous" href="/xvsf/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/xvsf/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/xvsf/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/xvsf/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/xvsf/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/xvsf/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/xvsf/index.xml" title="rss">
<link rel="alternate" hreflang="en" href="http://localhost:1313/xvsf/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/xvsf/" accesskey="h" title="xvsf (Alt + H)">xvsf</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Hello
    </h2>
  </header>
  <div class="entry-content">
    <p>ä¸€å¼ å¤–é“¾å›¾ï¼š
ä»£ç å—ï¼ˆbashï¼‰ï¼š
echo hello print(&#34;hello&#34;) </p>
  </div>
  <footer class="entry-footer"><span title='2026-01-15 00:00:00 +0800 CST'>January 15, 2026</span>&nbsp;Â·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Hello" href="http://localhost:1313/xvsf/posts/hello/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CVE-2022-22947â€”â€”Spring Cloud Gateway å­¦ä¹  &amp; SpEL çš„å¤šç§æ³¨å…¥
    </h2>
  </header>
  <div class="entry-content">
    <p>CVE-2022-22947â€”â€”Spring Cloud Gateway å­¦ä¹  &amp; SpEL çš„å¤šç§æ³¨å…¥ CVE-2022-22947 çš„èµ·å› æ˜¯ä½œè€… @Wyatt åœ¨ Bring Your Own SSRF â€“ The Gateway Actuator ä¸€æ–‡ä¸­æåŠåˆ°åˆ©ç”¨ Spring Cloud Gateway Actuator æ„é€  SSRFï¼Œä¹‹åè¯¥ä½œè€…åˆ©ç”¨å‘ç°çš„æš´éœ²çš„ Actuator æ‰§è¡Œå™¨ï¼Œåœ¨ CVE-2022-22947: SpEL Casting and Evil Beans ä¸­è®²åˆ°ï¼š /actuator/gateway/routes/åˆ›å»ºè·¯ç”±å¹¶åœ¨ filterså­—æ®µæ’å…¥ä¸€ä¸ª SpEL è¡¨è¾¾å¼ï¼ŒSpring Cloud Gateway åœ¨å¤„ç†è¿‡æ»¤å™¨æ—¶ä¼šæ‰§è¡Œè¯¥è¡¨è¾¾å¼ï¼Œé€šè¿‡æ„é€ æ¶æ„ SpEL å¯å®ç° RCEã€‚
å…ˆæ¥å­¦ä¹ ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼šBring Your Own SSRF â€“ The Gateway Actuator
ä¸€ã€åˆ©ç”¨ Spring Cloud Gateway Actuator åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ SSRF å…¥å£ã€‚ 1.1 Spring Cloud Gateway ä»‹ç» å‚è€ƒï¼šhttps://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-starter
1.1.1 ç®€ä»‹ Spring Cloud Gateway æ˜¯ Spring æä¾›çš„ API ç½‘å…³ï¼Œç”¨æ¥ä¸ºå¾®æœåŠ¡æ¶æ„æä¾›ä¸€ç§ç®€å•ã€æœ‰æ•ˆã€ç»Ÿä¸€çš„ API è·¯ç”±ç®¡ç†æ–¹å¼:
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-27 21:00:00 +0800 CST'>November 27, 2025</span>&nbsp;Â·&nbsp;<span>21 min</span></footer>
  <a class="entry-link" aria-label="post link to CVE-2022-22947â€”â€”Spring Cloud Gateway å­¦ä¹  & SpEL çš„å¤šç§æ³¨å…¥" href="http://localhost:1313/xvsf/posts/cve-2022-22947spring-cloud-gateway-%E5%AD%A6%E4%B9%A0--spel-%E7%9A%84%E5%A4%9A%E7%A7%8D%E6%B3%A8%E5%85%A5/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Smartbi è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°(QVD-2025-31926)
    </h2>
  </header>
  <div class="entry-content">
    <p>Smartbi è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°(QVD-2025-31926)
1ã€ æ¼æ´æè¿° è¿‘æ—¥ï¼Œå¥‡å®‰ä¿¡CERTç›‘æµ‹åˆ°å®˜æ–¹ä¿®å¤Smartbi è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´(QVD-2025-31926)ï¼Œè¯¥æ¼æ´æºäºæ”»å‡»è€…å¯é€šè¿‡é»˜è®¤èµ„æºIDç»•è¿‡èº«ä»½éªŒè¯è·å–æƒé™ï¼Œé…åˆåå°æ¥å£å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œï¼Œå¯èƒ½å¯¼è‡´æœåŠ¡å™¨è¢«å®Œå…¨æ§åˆ¶ã€æ•°æ®æ³„éœ²æˆ–ä¸šåŠ¡ç³»ç»Ÿæ²¦é™·ã€‚é‰´äºè¯¥æ¼æ´å½±å“èŒƒå›´è¾ƒå¤§ï¼Œå»ºè®®å®¢æˆ·å°½å¿«åšå¥½è‡ªæŸ¥åŠé˜²æŠ¤ã€‚
2ã€å½±å“èŒƒå›´ å½±å“ç‰ˆæœ¬
Smartbi &lt;= 11.0.99471.25193
3ã€è¡¥ä¸åˆ†æ å®˜ç½‘å‘å¸ƒäº†æ–°çš„è¡¥ä¸ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¡¥ä¸å…¥æ‰‹ï¼Œçœ‹ä»–ä¿®å¤äº†ä»€ä¹ˆ
https://www.smartbi.com.cn/patchinfo
ä¸‹è½½åˆ°çš„è¡¥ä¸æ˜¯ç»è¿‡åŠ å¯†çš„
å…·ä½“è§£å¯†æ–¹æ³•å¯å‚è€ƒï¼š
Smartbi æœ€æ–°è®¤è¯ç»•è¿‡å¯¼è‡´RCEæ¼æ´åˆ†æ
è§£å¯†
ä¸‹è½½ä¸º jar åŒ…ï¼š
7-31 çš„è¡¥ä¸å†…å®¹ï¼š
{ &#34;version&#34;: &#34;1.0&#34;, &#34;date&#34;: &#34;2025-07-31 09:00:00&#34;, &#34;patches&#34;: { &#34;PATCH_20250731&#34;: { &#34;desc&#34;: &#34;å¼ºåŒ–ç³»ç»Ÿå®‰å…¨æ€§ï¼Œé˜²èŒƒç‰¹å®šæ¡ä»¶ä¸‹çš„éæˆæƒè®¿é—®5 (Patch.20250731 @2025-07-31)&#34;, &#34;desc_zh_TW&#34;: &#34;å¼·åŒ–ç³»çµ±å®‰å…¨æ€§ï¼Œé˜²ç¯„ç‰¹å®šæ¢ä»¶ä¸‹çš„éæˆæ¬Šè¨ªå•5 (Patch.20250731 @2025-07-31)&#34;, &#34;desc_en&#34;: &#34;Strengthen system security against unauthorized access under certain conditions 5 (Patch.20250731 @2025-07-31)&#34;, &#34;urls&#34;: [ { &#34;url&#34;: &#34;/vision/share.jsp&#34;, &#34;rules&#34;: [ { &#34;type&#34;: &#34;ShareRecordPatchRule&#34;, } ] }, { &#34;url&#34;: &#34;/smartbix/api/agentEngineMonitor/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/customextension/customsqlnode/nodedefine&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/datamining/config/infos&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/datamining/config/service/infos&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] },{ &#34;url&#34;: &#34;/smartbix/api/datamining/config/system/infos&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/datamining/customExtensionNode/java/upload&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/datamining/customExtensionNode/python/upload&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/datamining/customtree/type/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/datamining/customnodehelp/update/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/datamining/bind/mining/secret&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/engineMonitor/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/engineMonitor/engineLog/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/engineMonitor/engineMethod/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/engineMonitor/restartComputeNode/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/engineMonitor/agentsystem/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/engineMonitor/agentLog/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/serveMonitor/serviceMethod/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/serveMonitor/serviceServers/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/serveMonitor/serviceLog/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/checkStart&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/jobs&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/jobs/job&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/jobs/job/kill&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/stages&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] },{ &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/stages/stage&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/stages/pool&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/storage&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/storage/rdd&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/environment&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/executors&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/executors/threadDump&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/SQL&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/SQL/execution&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/logPage&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/applications&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/api/v1/applications/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/executorspage&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/log&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/sparkUiMonitor/backMaster&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/dataprepare/sparkfunctions/import&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/dataprepare/sparkfunctions/delete/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/dataprepare/sparkfunctions/reset&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/dataprepare/sparkfunctions/update&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_MINING,MANAGE_ETL,AUGMENTED_DATASET_ETL&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/jobflow/config&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_JOBFLOW,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/jobflow/jobFlowLog/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_JOBFLOW,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/jobflow/jobFlowLog&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_JOBFLOW,MANAGE_TOOLKIT_SYSMONITOR&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/user/scheduleIsPasswordValidate&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_USERMANAGEMENT&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/user/isPasswordValidate&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_USERMANAGEMENT&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/admin/clearCache&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;AssertFunctionUrlPatchRule&#34;, &#34;funcList&#34;: &#34;MANAGE_TOOLKIT_EXPORTSYSTEMLOG&#34; }] }, { &#34;url&#34;: &#34;/smartbix/api/login&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;RejectPatchRule&#34; }] }, { &#34;url&#34;: &#34;/smartbix/*&#34;, &#34;rules&#34;: [{ &#34;type&#34;: &#34;RejectInvalidUrlPatchRule&#34; }] } ] }, æ‰¾åˆ°æ¼æ´è·¯å¾„/vision/share.jspä»¥åŠå¯¹åº”è¡¥ä¸ä»£ç 
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-20 14:00:00 +0800 CST'>November 20, 2025</span>&nbsp;Â·&nbsp;<span>6 min</span></footer>
  <a class="entry-link" aria-label="post link to Smartbi è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°(QVD-2025-31926)" href="http://localhost:1313/xvsf/posts/smartbi-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0qvd-2025-31926/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">EL è¡¨è¾¾å¼æ³¨å…¥
    </h2>
  </header>
  <div class="entry-content">
    <p>EL è¡¨è¾¾å¼æ³¨å…¥ 1ã€EL æ¦‚è¿° è¡¨è¾¾å¼è¯­è¨€(Expression Language) ç®€ç§° ELï¼Œæ˜¯ Java EEï¼ˆå°¤å…¶æ˜¯ JSP æŠ€æœ¯ï¼‰ä¸­ç”¨æ¥åœ¨é¡µé¢ä¸­ç®€åŒ–è®¿é—® Java å¯¹è±¡ã€å±æ€§ã€é›†åˆå’Œæ–¹æ³•çš„ä¸€ç§è¯­æ³•ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å–ä»£ JSP é¡µé¢ä¸­å¤æ‚çš„ &lt;%= ... %&gt; è¡¨è¾¾å¼ï¼Œè®© JSP é¡µé¢æ›´ç®€æ´ã€å¯è¯»æ€§æ›´é«˜ã€‚
1.1 EL åŸºæœ¬è¯­æ³• è¦å…ˆé€šè¿‡ page æ ‡ç­¾è®¾ç½®ä¸å¿½ç•¥ EI è¡¨è¾¾å¼
&lt;%@ page contentType=&#34;text/html;charset=UTF-8&#34; language=&#34;java&#34; isELIgnored=&#34;false&#34; %&gt; è¯­æ³•ï¼š
EL è¡¨è¾¾å¼ä½¿ç”¨ ${} æˆ– #{} è¯­æ³•ã€‚
${expression} åœ¨ JSP ä¸­æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹å†™ï¼š
è€Œ JSP å½“ä¸­æœ‰å››å¤§åŸŸï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š
pageï¼šå½“å‰é¡µé¢æœ‰æ•ˆ requestï¼šå½“å‰è¯·æ±‚æœ‰æ•ˆ sessionï¼šå½“å‰ä¼šè¯æœ‰æ•ˆ applicationï¼šå½“å‰åº”ç”¨æœ‰æ•ˆ el è¡¨è¾¾å¼è·å–æ•°æ®ï¼Œä¼šä¾æ¬¡ä»è¿™ 4 ä¸ªåŸŸä¸­å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚è€Œè¿™å››ä¸ªåŸŸå¯¹è±¡çš„ä½œç”¨èŒƒå›´å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
ä¾‹å¦‚ï¼š ${brands}ï¼Œel è¡¨è¾¾å¼è·å–æ•°æ®ï¼Œä¼šå…ˆä» page åŸŸå¯¹è±¡ä¸­è·å–æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰å†åˆ° requet åŸŸå¯¹è±¡ä¸­è·å–æ•°æ®ï¼Œå¦‚æœå†æ²¡æœ‰å†åˆ° session åŸŸå¯¹è±¡ä¸­è·å–ï¼Œå¦‚æœè¿˜æ²¡æœ‰æ‰ä¼šåˆ° application ä¸­è·å–æ•°æ®ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-17 11:01:00 +0800 CST'>November 17, 2025</span>&nbsp;Â·&nbsp;<span>4 min</span></footer>
  <a class="entry-link" aria-label="post link to EL è¡¨è¾¾å¼æ³¨å…¥" href="http://localhost:1313/xvsf/posts/el-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B3%A8%E5%85%A5/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SpEL è¡¨è¾¾å¼æ³¨å…¥
    </h2>
  </header>
  <div class="entry-content">
    <p>SpEL è¡¨è¾¾å¼æ³¨å…¥ 1ã€SpEL åŸºç¡€ 1.1 ç®€ä»‹ åœ¨ Spring3 ä¸­å¼•å…¥äº† Spring è¡¨è¾¾å¼è¯­è¨€ï¼ˆSpring Expression Languageï¼Œç®€ç§° SpELï¼‰ï¼Œæ˜¯ä¸€ç§å¼ºå¤§çš„è¿è¡Œæ—¶æŸ¥è¯¢å’Œæ“ä½œå¯¹è±¡å›¾çš„è¯­è¨€ï¼Œè¯­æ³•ç±»ä¼¼äºJakartaè¡¨è¾¾è¯­å¥ï¼Œä½†é¢å¤–æ”¯æŒæ–¹æ³•è°ƒç”¨å’ŒåŸºæœ¬å­—ç¬¦ä¸²æ¨¡æ¿ã€‚SpELæ—¨åœ¨ä¸ºSpringç¤¾åŒºæä¾›ä¸€ç§ç»Ÿä¸€ä¸”åŠŸèƒ½å…¨é¢çš„è¡¨è¾¾å¼è¯­è¨€ï¼Œé€‚ç”¨äºæ‰€æœ‰Springäº§å“ï¼Œå¹¶æ ¹æ®è¿™äº›äº§å“çš„éœ€è¦è®¾è®¡äº†å…¶ç‰¹æ€§ã€‚å°½ç®¡SpELæ˜¯Springæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œä½†å®ƒå¯ä»¥ç‹¬ç«‹äºSpringä½¿ç”¨ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç”¨æˆ·åªéœ€ç¼–å†™ç®€å•çš„è¡¨è¾¾å¼å­—ç¬¦ä¸²å³å¯åˆ©ç”¨SpELçš„åŠŸèƒ½ï¼Œæ— éœ€å…³å¿ƒåº•å±‚æ¶æ„ç»†èŠ‚ã€‚ä¾‹å¦‚ï¼Œåœ¨åŸºäºXMLæˆ–æ³¨è§£çš„beanå®šä¹‰ä¸­é›†æˆSpELå°±æ˜¯ä¸€ä¸ªå¸¸è§åº”ç”¨ã€‚
SpEL è¡¨è¾¾å¼å¿…é¡»ä½¿ç”¨å ä½ç¬¦è¯­æ³• #{SpelExpression}ï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥åµŒå…¥åˆ°çº¯æ–‡æœ¬å­—ç¬¦ä¸²ä¸­ï¼ˆæ¢å¥è¯è¯´ï¼ŒSpEL å¯ç”¨äº†è¡¨è¾¾å¼æ¨¡æ¿ï¼‰ã€‚
SpEL è¿˜å¯ä½¿ç”¨ @BeanIDè¯­æ³•åœ¨æ³¨å†Œè¡¨ä¸­æŸ¥æ‰¾ Bean ï¼ˆé€šå¸¸æ˜¯ Spring æ³¨å†Œè¡¨ï¼‰ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ IDã€headerUtils å’Œæ–¹æ³• count ï¼ˆï¼‰ ï¼ˆè®¡æ•°å½“å‰æ¶ˆæ¯ä¸­çš„æ ‡å¤´æ•°ï¼‰æŒ‡å®š beanï¼Œå¯ä»¥åœ¨ SpEL predicate ä¸­ä½¿ç”¨ headerUtils beanï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
#{@headerUtils.count &gt; 4} 1.2 è¡¨è¾¾å¼ç±»å‹ 1.2.1 å­—é¢å€¼ æœ€ç®€å•çš„ SpEL è¡¨è¾¾å¼å°±æ˜¯ä»…åŒ…å«ä¸€ä¸ªå­—é¢å€¼ã€‚
ä¸‹é¢æˆ‘ä»¬åœ¨ XML é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ SpEL è®¾ç½®ç±»å±æ€§çš„å€¼ä¸ºå­—é¢å€¼ï¼Œæ­¤æ—¶éœ€è¦ç”¨åˆ° #{} å®šç•Œç¬¦ï¼Œæ³¨æ„è‹¥æ˜¯æŒ‡å®šä¸ºå­—ç¬¦ä¸²çš„è¯éœ€è¦æ·»åŠ å•å¼•å·æ‹¬èµ·æ¥ï¼š
&lt;property name=&#34;message1&#34; value=&#34;#{666}&#34;/&gt; &lt;property name=&#34;message1&#34; value=&#34;#{aaaa}&#34;/&gt; è¿˜å¯ä»¥ç›´æ¥ä¸å­—ç¬¦ä¸²æ··ç”¨ï¼š
&lt;property name=&#34;message1&#34; value=&#34;the value is #{666}&#34;/&gt; 1.2.2 Demo package com.src.basicspel; public class HelloWorld { private String message; public void setMessage(String message) { this.message = message; } public void getMessage() { System.out.println(&#34;Your Message :&#34; &#43; message); } } package com.src.basicspel; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; @SpringBootApplication public class BasicSpElApplication { public static void main(String[] args) { ApplicationContext context = new ClassPathXmlApplicationContext(&#34;Demo.xml&#34;); HelloWorld helloWorld = context.getBean(&#34;helloWorld&#34;, HelloWorld.class); helloWorld.getMessage(); } } &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;beans xmlns=&#34;http://www.springframework.org/schema/beans&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd &#34;&gt; &lt;bean id=&#34;helloWorld&#34; class=&#34;com.src.basicspel.HelloWorld&#34;&gt; &lt;property name=&#34;message&#34; value=&#34;#{&#39;aaa&#39;} is #{3333}&#34; /&gt; &lt;/bean&gt; &lt;/beans&gt; ...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-17 11:00:00 +0800 CST'>November 17, 2025</span>&nbsp;Â·&nbsp;<span>7 min</span></footer>
  <a class="entry-link" aria-label="post link to SpEL è¡¨è¾¾å¼æ³¨å…¥" href="http://localhost:1313/xvsf/posts/spel-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B3%A8%E5%85%A5/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Switch JDK versions in Windows
    </h2>
  </header>
  <div class="entry-content">
    <p>Switch JDK versions in Windows æœ€è¿‘åœ¨å®‰è£…å·¥å…·æ—¶å¸¸å¸¸ç”¨åˆ°ä¸åŒçš„ JDK ç‰ˆæœ¬ï¼Œè€Œæƒ³è¦åˆ‡æ¢å°±å¾—ä¸€æ¡ä¸€æ¡å»ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼Œå®åœ¨æµªè´¹æ—¶é—´ã€‚å› æ­¤ï¼Œé€šè¿‡ AI &#43; äººå·¥è°ƒè¯•ï¼Œç»ˆäºæ¨å‡ºäº†ä¸€æ¬¾å¯ä»¥è‡ªåŠ¨æ‰«æå·²å®‰è£…çš„æ‰€æœ‰ JDK ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¿«é€Ÿåˆ‡æ¢çš„è„šæœ¬ã€‚
å†…å®¹ï¼š # ----------------------------- # PowerShell è„šæœ¬ï¼šswitchjdk.ps1 # åŠŸèƒ½ï¼šåœ¨ Windows ä¸‹å¿«é€Ÿåˆ‡æ¢ Java ç‰ˆæœ¬ï¼ˆè‡ªåŠ¨æ£€æµ‹ &#43; å®‰å…¨åˆ·æ–°ï¼‰ # ç”¨æ³•ï¼š PowerShell ç®¡ç†å‘˜æ¨¡å¼ä¸‹ç›´æ¥æ‰§è¡Œï¼š.\switchjdk.ps1 # ----------------------------- # JDK æ ¹ç›®å½•ï¼ˆæ ¹æ®è‡ªå·±çš„ JDK å®‰è£…è·¯å¾„è°ƒæ•´ï¼‰ $javaBase = &#34;D:\Java&#34; Write-Host &#34;`n==========================&#34; -ForegroundColor Cyan Write-Host &#34;ğŸ” æ‰«æåˆ°å·²æœ‰çš„ Java JDK ç‰ˆæœ¬ï¼š&#34; -ForegroundColor Cyan Write-Host &#34;==========================&#34; -ForegroundColor Cyan # è·å–æ‰€æœ‰ JDK ç›®å½•ï¼ˆæŒ‰åç§°æ’åºï¼Œé˜²æ­¢ç´¢å¼•é”™ä½ï¼‰ $jdkList = Get-ChildItem -Path $javaBase -Directory | Where-Object { $_.Name -match &#34;^jdk&#34; } | Sort-Object Name if (-not $jdkList) { Write-Host &#34;âŒ æœªæ‰¾åˆ°ä»»ä½• JDK ç‰ˆæœ¬ï¼Œè¯·æ£€æŸ¥ç›®å½•ï¼š$javaBase&#34; -ForegroundColor Red exit 1 } # æ˜¾ç¤ºå¯é€‰ç‰ˆæœ¬ $index = 1 foreach ($jdk in $jdkList) { Write-Host &#34;$index. $($jdk.Name)&#34; $index&#43;&#43; } # è·å–å½“å‰ JAVA_HOME $currentJavaHome = [Environment]::GetEnvironmentVariable(&#34;JAVA_HOME&#34;, &#34;Machine&#34;) if ($currentJavaHome) { Write-Host &#34;`nğŸ’¡ å½“å‰ç‰ˆæœ¬ä¸ºï¼š$currentJavaHome&#34; -ForegroundColor Yellow } else { Write-Host &#34;`nâš ï¸ å½“å‰ç³»ç»Ÿæœªè®¾ç½® JAVA_HOME&#34; -ForegroundColor Yellow } # æç¤ºç”¨æˆ·é€‰æ‹©ç‰ˆæœ¬ $choice = Read-Host &#34;`nğŸ‘‰ è¯·é€‰æ‹©è¦æ›´æ¢çš„ JDK åºå·ï¼ˆ1-${jdkList.Count}ï¼‰&#34; if (-not ($choice -as [int]) -or $choice -lt 1 -or $choice -gt $jdkList.Count) { Write-Host &#34;âŒ æ— æ•ˆé€‰æ‹©ï¼Œæ“ä½œå·²å–æ¶ˆã€‚&#34; -ForegroundColor Red exit 1 } # ç²¾ç¡®å–é€‰ä¸­ç‰ˆæœ¬ $selectedJdk = $jdkList | Sort-Object Name | Select-Object -Index ($choice - 1) $javaHome = $selectedJdk.FullName Write-Host &#34;`nâœ… é€‰æ‹©çš„ JDKï¼š$javaHome&#34; -ForegroundColor Green # ä¿®æ”¹ JAVA_HOMEï¼ˆç³»ç»Ÿä¸ç”¨æˆ·çº§ï¼‰ [Environment]::SetEnvironmentVariable(&#34;JAVA_HOME&#34;, $javaHome, &#34;User&#34;) [Environment]::SetEnvironmentVariable(&#34;JAVA_HOME&#34;, $javaHome, &#34;Machine&#34;) Write-Host &#34;âœ… JAVA_HOME å·²æ›´æ–°ä¸º $javaHome&#34; -ForegroundColor Green # æ›´æ–° Pathï¼šç§»é™¤æ—§ JDK/binï¼Œæ·»åŠ æ–° JDK/bin $oldPath = [Environment]::GetEnvironmentVariable(&#34;Path&#34;, &#34;Machine&#34;) $newPathParts = $oldPath -split &#39;;&#39; | Where-Object { ($_ -notmatch &#34;Java\\jdk&#34;) -and ($_ -notmatch &#34;Java\\jre&#34;) } $newPath = ($newPathParts &#43; &#34;$javaHome\bin&#34;) -join &#39;;&#39; [Environment]::SetEnvironmentVariable(&#34;Path&#34;, $newPath, &#34;Machine&#34;) Write-Host &#34;ğŸ” ç³»ç»Ÿ Path å·²æ›´æ–°ã€‚&#34; -ForegroundColor Yellow # é€šçŸ¥ç³»ç»Ÿç¯å¢ƒå˜é‡æ›´æ–°ï¼ˆç«‹å³ç”Ÿæ•ˆï¼‰ try { $signature = @&#34; [DllImport(&#34;user32.dll&#34;, SetLastError=true, CharSet=CharSet.Auto)] public static extern IntPtr SendMessageTimeout( IntPtr hWnd, uint Msg, UIntPtr wParam, string lParam, uint fuFlags, uint uTimeout, out UIntPtr lpdwResult); &#34;@ Add-Type -MemberDefinition $signature -Name &#34;NativeMethods&#34; -Namespace &#34;WinAPI&#34; $HWND_BROADCAST = [IntPtr]0xffff $WM_SETTINGCHANGE = 0x1A $result = [UIntPtr]::Zero [void][WinAPI.NativeMethods]::SendMessageTimeout( $HWND_BROADCAST, $WM_SETTINGCHANGE, [UIntPtr]::Zero, &#34;Environment&#34;, 0, 1000, [ref]$result ) Write-Host &#34;âœ… System environment change broadcasted.&#34; -ForegroundColor Green } catch { Write-Host &#34;âš ï¸ Broadcast failed (ä½†ç¯å¢ƒå˜é‡å·²æ›´æ–°)&#34; -ForegroundColor Yellow } # æ›´æ–°å½“å‰ä¼šè¯ç¯å¢ƒå˜é‡ $env:JAVA_HOME = $javaHome $env:Path = $newPath # âš™ï¸ æ¸…é™¤ PowerShell å‘½ä»¤ç¼“å­˜ï¼Œç¡®ä¿ç”Ÿæ•ˆæ–°ç‰ˆæœ¬ try { if (Get-Command java -ErrorAction SilentlyContinue) { Remove-Item -Path Function:\java -ErrorAction SilentlyContinue Remove-Item -Path Alias:\java -ErrorAction SilentlyContinue } # æ¸…é™¤ç¼“å­˜è·¯å¾„ $env:Path = $newPath [System.Environment]::SetEnvironmentVariable(&#34;Path&#34;, $newPath, &#34;Process&#34;) # å¼ºåˆ¶é‡æ–°å®šä½ java å¯æ‰§è¡Œè·¯å¾„ $null = &amp; where.exe java } catch { Write-Host &#34;âš ï¸ PowerShell ç¼“å­˜åˆ·æ–°å¤±è´¥ï¼Œä½†ç¯å¢ƒå˜é‡å·²æ›´æ–°&#34; -ForegroundColor Yellow } Write-Host &#34;`n==========================&#34; -ForegroundColor Cyan Write-Host &#34;Final check (java -version):&#34; -ForegroundColor Cyan Write-Host &#34;==========================&#34; -ForegroundColor Cyan &amp; java -version ä½¿ç”¨ï¼š é¦–å…ˆå°†ä»¥ä¸Šè„šæœ¬å†…å®¹è¿›è¡Œä¿å­˜ï¼Œ
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-12 08:00:00 +0000 UTC'>November 12, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span></footer>
  <a class="entry-link" aria-label="post link to Switch JDK versions in Windows" href="http://localhost:1313/xvsf/posts/switch-jdk-versions-in-windows/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Javaå†…å­˜é©¬â€”â€”Tomcat Valveå‹çš„ä¸‰ç§æ³¨å…¥
    </h2>
  </header>
  <div class="entry-content">
    <p>Javaå†…å­˜é©¬â€”â€”Tomcat Valveå‹çš„ä¸‰ç§æ³¨å…¥ è½¬è½½è‡ªï¼šhttps://www.freebuf.com/articles/web/433972.html
æ ¸å¿ƒåŸç† **Tomcat Pipeline &amp; Valveï¼š**Tomcat ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼å¤„ç†è¯·æ±‚ã€‚PipelineåŒ…å«å¤šä¸ªValveï¼Œæ¯ä¸ªValveè´Ÿè´£ç‰¹å®šä»»åŠ¡ï¼ˆå¦‚è®¤è¯ã€æ—¥å¿—ã€è®¿é—®æ§åˆ¶ï¼‰ã€‚StandardWrapperValve(é€šå¸¸ä½äºé“¾å°¾) æœ€ç»ˆè°ƒç”¨ Servletã€‚ **StandardContextï¼š**ä»£è¡¨ä¸€ä¸ª Web åº”ç”¨ï¼ŒæŒæœ‰å…¶å¯¹åº”çš„Pipelineå¯¹è±¡ (StandardContext#getPipeline())ã€‚ **ç›®æ ‡ï¼š**å°†æ¶æ„Valveæ³¨å…¥åˆ°ç›®æ ‡ Web åº”ç”¨StandardContextçš„Pipelineä¸­ï¼Œé€šå¸¸æ˜¯æ’å…¥åœ¨StandardContextValve(è´Ÿè´£åº”ç”¨çº§è·¯ç”±) å’ŒStandardWrapperValve(è´Ÿè´£è°ƒç”¨ Servlet) ä¹‹é—´ï¼Œæˆ–è€…å°½å¯èƒ½é å‰ï¼ˆå¦‚ç´§æ¥åœ¨AccessLogValveä¹‹åï¼‰ã€‚æ¶æ„ Valve çš„invoke()æ–¹æ³•æ£€æŸ¥ç‰¹å®šè¯·æ±‚ç‰¹å¾ï¼ŒåŒ¹é…åˆ™æ‰§è¡Œå‘½ä»¤å¹¶æˆªæ–­ç®¡é“ï¼ˆä¸å†è°ƒç”¨getNext().invoke()ï¼‰ï¼Œç›´æ¥è¿”å›å“åº”ã€‚ æ³¨å…¥æ–¹å¼è¯¦è§£ æ–¹å¼ä¸€ï¼šçº¯åå°„æ³¨å…¥ï¼ˆæ— ä¾èµ–ï¼‰ åœºæ™¯ï¼šæ”»å‡»è€…å·²é€šè¿‡æ¼æ´ï¼ˆå¦‚ååºåˆ—åŒ–ã€æ–‡ä»¶ä¸Šä¼  Webshellã€å…¶ä»– RCEï¼‰è·å¾—ä»£ç æ‰§è¡Œèƒ½åŠ›ï¼Œä½†å½“å‰æ‰§è¡Œç¯å¢ƒæ²¡æœ‰ Tomcat çš„catalina.jarç­‰åº“ä¾èµ–ï¼ˆä¾‹å¦‚åœ¨Bootstrap ClassLoaderæˆ–Common ClassLoaderåŠ è½½çš„ç±»ä¸­æ‰§è¡Œï¼‰ã€‚è¿™æ˜¯æœ€é€šç”¨çš„æ–¹å¼ã€‚
æ­¥éª¤ï¼š
è·å–å½“å‰çº¿ç¨‹çš„ContextClassLoader(é€šå¸¸æ˜¯WebappClassLoader):
ClassLoader webappClassLoader = Thread.currentThread().getContextClassLoader(); åå°„è·å–ApplicationContext(å…³é”®):
Tomcat å°†ApplicationContextå­˜å‚¨åœ¨WebappClassLoaderçš„resourceså±æ€§ (org.apache.catalina.webresources.StandardRoot) çš„contextå±æ€§ä¸­ã€‚ æˆ–è€…é€šè¿‡ClassLoaderçš„resourceså±æ€§è·å–WebResourceRootï¼Œå†åå°„è·å–å…¶contextå±æ€§ã€‚ // é€šè¿‡ WebappClassLoader è·å– resources (StandardRoot) Field resourcesField = webappClassLoader.getClass().getDeclaredField(&#34;resources&#34;); resourcesField.setAccessible(true); Object standardRoot = resourcesField.get(webappClassLoader); // é€šè¿‡ StandardRoot è·å– Context (StandardContext) Field contextField = standardRoot.getClass().getDeclaredField(&#34;context&#34;); contextField.setAccessible(true); Object standardContext = contextField.get(standardRoot); // è¿™å°±æ˜¯ç›®æ ‡ StandardContext åå°„è·å–Pipelineå¯¹è±¡ï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-08 15:04:00 +0800 CST'>November 8, 2025</span>&nbsp;Â·&nbsp;<span>11 min</span></footer>
  <a class="entry-link" aria-label="post link to Javaå†…å­˜é©¬â€”â€”Tomcat Valveå‹çš„ä¸‰ç§æ³¨å…¥" href="http://localhost:1313/xvsf/posts/java%E5%86%85%E5%AD%98%E9%A9%ACtomcat-valve%E5%9E%8B%E7%9A%84%E4%B8%89%E7%A7%8D%E6%B3%A8%E5%85%A5/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Java å†…å­˜é©¬ç¬¬å››ç¯‡ - Agent å†…å­˜é©¬
    </h2>
  </header>
  <div class="entry-content">
    <p>Java å†…å­˜é©¬ç¬¬å››ç¯‡ - Agent å†…å­˜é©¬ å››ã€ Java Agent å†…å­˜é©¬ 4.1 Java Agentç¤ºä¾‹ å¯¹äºAgentï¼ˆä»£ç†ï¼‰æ¥è®²ï¼Œå…¶å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨JVMå¯åŠ¨å‰åŠ è½½çš„**premain-Agent**ï¼Œå¦ä¸€ç§æ˜¯JVMå¯åŠ¨ä¹‹ååŠ è½½çš„**agentmain-Agent**ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç†è§£æˆä¸€ç§ç‰¹æ®Šçš„Interceptorï¼ˆæ‹¦æˆªå™¨ï¼‰ï¼Œå¦‚ä¸‹å›¾
4.1.1 premain-Agent ä½¿ç”¨å¤–éƒ¨ MANIFEST.MF æ–‡ä»¶ åˆ›å»º åˆ›å»ºJava Agentç±» æ­¤å¤„ä¸å†™åŒ…åï¼Œé¿å…åç»­çš„ç¼–è¯‘çš„ jar åŒ…æ‰¾ä¸åˆ°ç±»
//package com.premain.agent; import java.lang.instrument.Instrumentation; public class JavaAgentPremain { public static void premain(String args, Instrumentation inst) { for (int i =0 ; i&lt;10 ; i&#43;&#43;){ System.out.println(&#34;premain-Agent&#34;); } } } åˆ›å»ºMANIFEST.MFæ–‡ä»¶ æœ€åå¿…é¡»æœ‰ä¸€ä¸ªç©ºè¡Œï¼
Manifest-Version: 1.0 Premain-Class: JavaAgentPremain Can-Redefine-Classes: true Can-Retransform-Classes: true Can-Set-Native-Method-Prefix: true Created-By: Manual Compilation â€‹
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-08 15:03:00 +0800 CST'>November 8, 2025</span>&nbsp;Â·&nbsp;<span>14 min</span></footer>
  <a class="entry-link" aria-label="post link to Java å†…å­˜é©¬ç¬¬å››ç¯‡ - Agent å†…å­˜é©¬" href="http://localhost:1313/xvsf/posts/java-%E5%86%85%E5%AD%98%E9%A9%AC%E7%AC%AC%E5%9B%9B%E7%AF%87---agent-%E5%86%85%E5%AD%98%E9%A9%AC/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Java å†…å­˜é©¬ç¬¬ä¸‰ç¯‡ - Spring å†…å­˜é©¬
    </h2>
  </header>
  <div class="entry-content">
    <p>Java å†…å­˜é©¬ç¬¬ä¸‰ç¯‡ - Spring å†…å­˜é©¬ ä¸‰ã€Spring å†…å­˜é©¬ 1ã€Controller å†…å­˜é©¬ ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼š Bean Bean æ˜¯ Spring æ¡†æ¶çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒæ˜¯æ„æˆåº”ç”¨ç¨‹åºçš„ä¸»å¹²ï¼Œå¹¶ä¸”æ˜¯ç”± Spring IoC å®¹å™¨è´Ÿè´£å®ä¾‹åŒ–ã€é…ç½®ã€ç»„è£…å’Œç®¡ç†çš„å¯¹è±¡ã€‚
bean æ˜¯å¯¹è±¡ bean è¢« IoC å®¹å™¨ç®¡ç† Spring åº”ç”¨ä¸»è¦æ˜¯ç”±ä¸€ä¸ªä¸ªçš„ bean æ„æˆçš„ IOCå®¹å™¨ å¦‚æœä¸€ä¸ªç³»ç»Ÿæœ‰å¤§é‡çš„ç»„ä»¶ï¼ˆç±»ï¼‰ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸå’Œç›¸äº’ä¹‹é—´çš„ä¾èµ–å…³ç³»å¦‚æœç”±ç»„ä»¶è‡ªèº«æ¥ç»´æŠ¤ï¼Œä¸ä½†å¤§å¤§å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œè€Œä¸”ä¼šå¯¼è‡´ç»„ä»¶ä¹‹é—´æä¸ºç´§å¯†çš„è€¦åˆï¼Œç»§è€Œç»™æµ‹è¯•å’Œç»´æŠ¤å¸¦æ¥äº†æå¤§çš„å›°éš¾ã€‚è§£å†³è¿™ä¸€é—®é¢˜çš„æ ¸å¿ƒæ–¹æ¡ˆå°±æ˜¯IoCï¼ˆåˆç§°ä¸ºä¾èµ–æ³¨å…¥ï¼‰ã€‚ç”±IoCè´Ÿè´£åˆ›å»ºç»„ä»¶ã€æ ¹æ®ä¾èµ–å…³ç³»ç»„è£…ç»„ä»¶ã€æŒ‰ä¾èµ–é¡ºåºæ­£ç¡®é”€æ¯ç»„ä»¶ã€‚
IOCå®¹å™¨é€šè¿‡è¯»å–é…ç½®å…ƒæ•°æ®æ¥è·å–å¯¹è±¡çš„å®ä¾‹åŒ–ã€é…ç½®å’Œç»„è£…çš„æè¿°ä¿¡æ¯ã€‚é…ç½®çš„é›¶å…ƒæ•°æ®å¯ä»¥ç”¨xmlã€Javaæ³¨è§£æˆ–Javaä»£ç æ¥è¡¨ç¤ºã€‚
ApplicationContext Spring æ¡†æ¶ä¸­ï¼ŒBeanFactory æ¥å£æ˜¯ Spring IoCå®¹å™¨ çš„å®é™…ä»£è¡¨è€…
Springå®¹å™¨å°±æ˜¯ApplicationContextï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¥å£ç»§æ‰¿äºBeanFactoryï¼Œæœ‰å¾ˆå¤šå®ç°ç±»ã€‚è·å¾—äº†ApplicationContextçš„å®ä¾‹ï¼Œå°±è·å¾—äº†IoCå®¹å™¨çš„å¼•ç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä»ApplicationContextä¸­å¯ä»¥æ ¹æ®Beançš„IDè·å–Beanã€‚
å› æ­¤ï¼Œorg.springframework.context.ApplicationContextæ¥å£ä¹Ÿä»£è¡¨äº† IoCå®¹å™¨ ï¼Œå®ƒè´Ÿè´£å®ä¾‹åŒ–ã€å®šä½ã€é…ç½®åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡(bean)åŠå»ºç«‹è¿™äº›å¯¹è±¡é—´(beans)çš„ä¾èµ–ã€‚
1.1 Controller åˆ›å»º SpringController.java
package com.src.springmem.demos.web; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.ResponseBody; @Controller public class SpringController { @ResponseBody @RequestMapping(&#34;/hello&#34;) public String sayHello(){ return &#34;hello world&#34;; } } ...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-08 15:02:00 +0800 CST'>November 8, 2025</span>&nbsp;Â·&nbsp;<span>7 min</span></footer>
  <a class="entry-link" aria-label="post link to Java å†…å­˜é©¬ç¬¬ä¸‰ç¯‡ - Spring å†…å­˜é©¬" href="http://localhost:1313/xvsf/posts/java-%E5%86%85%E5%AD%98%E9%A9%AC%E7%AC%AC%E4%B8%89%E7%AF%87---spring-%E5%86%85%E5%AD%98%E9%A9%AC/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Java å†…å­˜é©¬ç¬¬äºŒç¯‡ - Tomcat å†…å­˜é©¬
    </h2>
  </header>
  <div class="entry-content">
    <p>Java å†…å­˜é©¬ç¬¬äºŒç¯‡ - Tomcat å†…å­˜é©¬ äºŒã€Tomcat å†…å­˜é©¬ 1. Filter å†…å­˜é©¬ Filter æˆ‘ä»¬ç§°ä¹‹ä¸ºè¿‡æ»¤å™¨ï¼Œæ˜¯ Java ä¸­æœ€å¸¸è§ä¹Ÿæœ€å®ç”¨çš„æŠ€æœ¯ä¹‹ä¸€ï¼Œé€šå¸¸è¢«ç”¨æ¥å¤„ç†é™æ€ web èµ„æºã€è®¿é—®æƒé™æ§åˆ¶ã€è®°å½•æ—¥å¿—ç­‰é™„åŠ åŠŸèƒ½ç­‰ç­‰ã€‚ä¸€æ¬¡è¯·æ±‚è¿›å…¥åˆ°æœåŠ¡å™¨åï¼Œå°†å…ˆç”± Filter å¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡Œé¢„å¤„ç†ï¼Œå†äº¤ç»™ Servletã€‚
é€šå¸¸æƒ…å†µä¸‹ï¼ŒFilter é…ç½®åœ¨é…ç½®æ–‡ä»¶å’Œæ³¨è§£ä¸­ï¼Œåœ¨å…¶ä»–ä»£ç ä¸­å¦‚æœæƒ³è¦å®Œæˆæ³¨å†Œï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š
ä½¿ç”¨ ServletContext çš„ addFilter/createFilter æ–¹æ³•æ³¨å†Œï¼› ä½¿ç”¨ ServletContextListener çš„ contextInitialized æ–¹æ³•åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶æ³¨å†Œï¼ˆå°†ä¼šåœ¨ Listener ä¸­è¿›è¡Œæè¿°ï¼‰ï¼› ä½¿ç”¨ ServletContainerInitializer çš„ onStartup æ–¹æ³•åœ¨åˆå§‹åŒ–æ—¶æ³¨å†Œï¼ˆéåŠ¨æ€ï¼Œåé¢ä¼šæè¿°ï¼‰ã€‚ 1.1 ç¯å¢ƒåˆ›å»º web.xml:
&lt;filter&gt; &lt;filter-name&gt;FilterTest&lt;/filter-name&gt; &lt;filter-class&gt;com.src.tomcatdemo.FilterTest&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;FilterTest&lt;/filter-name&gt; &lt;url-pattern&gt;/filter&lt;/url-pattern&gt; &lt;/filter-mapping&gt; è‡ªå®šä¹‰ä¸€ä¸ª Filter:
package com.src.tomcatdemo; import javax.servlet.*; import java.io.IOException; public class FilterTest implements Filter { @Override public void init(FilterConfig filterConfig) throws ServletException { System.out.println(&#34;Filter launch&#34;); } @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { System.out.println(&#34;The filtering operation was performed\n&#34;); filterChain.doFilter(servletRequest, servletResponse); } @Override public void destroy() {} } ...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-08 15:01:00 +0800 CST'>November 8, 2025</span>&nbsp;Â·&nbsp;<span>12 min</span></footer>
  <a class="entry-link" aria-label="post link to Java å†…å­˜é©¬ç¬¬äºŒç¯‡ - Tomcat å†…å­˜é©¬" href="http://localhost:1313/xvsf/posts/java-%E5%86%85%E5%AD%98%E9%A9%AC%E7%AC%AC%E4%BA%8C%E7%AF%87---tomcat-%E5%86%85%E5%AD%98%E9%A9%AC/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://localhost:1313/xvsf/page/2/">Next&nbsp;&nbsp;Â»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/xvsf/">xvsf</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
